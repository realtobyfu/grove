# Ralph Progress Log
Started: Thu Feb 19 22:33:31 HST 2026
---
- US-001 (2026-02-19): Home discussion starters are now decision-light by enforcing a hard 3-starter cap in both `HomeView` and `ConversationStarterService` (including cached loads), and by always returning one fallback REFLECT starter when context is empty.
- Added regression tests for starter cap and empty-context fallback in `grove/Tests/GroveTests.swift` to keep LLM/heuristic behavior stable.
- US-002 (2026-02-19): Home starter handoff now keeps full prompt metadata through mode selection and sends Dialectics launches via `groveStartConversationWithPrompt`, passing `clusterItemIDs` as `seedItemIDs` so ORGANIZE starters carry their intended context.
- Added payload parsing tests in `grove/Tests/GroveTests.swift` to guard prompt + seed-ID extraction from `groveStartConversationWithPrompt` notifications.
- US-003 (2026-02-19): `MarkdownTextView` now emits real link attributes for `[[wiki-links]]` via a custom `grove-wikilink://` URL and resolves taps through `openURL` into the existing `onWikiLinkTap` callback used by chat and reader surfaces.
- Reader learnings: wrapping markdown in a parent `Button` prevents embedded links from being actionable; moving edit affordance to an explicit header button keeps reflection editing while allowing wiki-link navigation.
- US-004 (2026-02-19): Dialectics conversation history popover now includes an auto-focused search field with live filtering across conversation titles and visible message content, plus up/down/return keyboard selection and separate empty states for no conversations vs no search results.
- Keyboard-state learning: keep a dedicated selected conversation ID synchronized with filtered IDs so arrow navigation remains stable as the query changes or conversations are deleted.
- US-005 (2026-02-19): Global search overlay now autofocuses on open and updates query via a debounced, cancellable task path (`SearchViewModel.updateQuery`) so typing no longer runs immediate synchronous searches on every keypress.
- Search perf learning: cache fetched search entities for the active overlay session and guard async result application with a generation counter to prevent stale debounced tasks from overwriting newer query results.
- US-006 (2026-02-19): Nudge settings now align with the simplified engine by exposing only active controls (resurface, stale inbox, cadence, and resurfacing queue), removing legacy/smart category toggles and analytics rows.
- Nudge model/settings learning: keep legacy `NudgeType` cases for persisted SwiftData compatibility, but treat them as non-configurable by returning `false` from `NudgeSettings.isEnabled(for:)` so dead categories are never considered active behavior.
- Weekly digest learning: digest controls were misleading because digest scheduling is not part of the active nudge engine; the nudge settings surface now labels digest as manual-only and keeps only last-generated metadata.
